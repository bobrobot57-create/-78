# –ê–∫—Ç–∏–≤–∞—Ü–∏—è FreeKassa ‚Äî –ø–æ—à–∞–≥–æ–≤–∞—è –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è

## –®–∞–≥ 1. –î–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –≤ Railway

1. –û—Ç–∫—Ä–æ–π –ø—Ä–æ–µ–∫—Ç –Ω–∞ **Railway** ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Variables**
2. –î–æ–±–∞–≤—å (–∏–ª–∏ –∏–∑–º–µ–Ω–∏) –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ:

```
FK_MERCHANT_ID=70247
FK_SECRET_1=GcWw7IQw00@ks)F
FK_SECRET_2==B)!SDQY2aoT=T1
```

‚ö†Ô∏è **–í–∞–∂–Ω–æ:** Secret 2 –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å `=` ‚Äî —Å–∫–æ–ø–∏—Ä—É–π —Ü–µ–ª–∏–∫–æ–º: `=B)!SDQY2aoT=T1`

3. –°–æ—Ö—Ä–∞–Ω–∏ (Railway –ø—Ä–∏–º–µ–Ω–∏—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)

---

## –®–∞–≥ 2. Redeploy

1. Railway ‚Üí –≤–∫–ª–∞–¥–∫–∞ **Deployments**
2. –ù–∞–∂–º–∏ **Redeploy** –Ω–∞ –ø–æ—Å–ª–µ–¥–Ω–µ–º –¥–µ–ø–ª–æ–µ (–∏–ª–∏ —Å–¥–µ–ª–∞–π –ø—É—Å—Ç–æ–π –∫–æ–º–º–∏—Ç –∏ –ø—É—à)

---

## –®–∞–≥ 3. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å WEBHOOK_BASE_URL

–í Railway Variables –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å:

```
WEBHOOK_BASE_URL=https://78-production.up.railway.app
```

–ë–µ–∑ —Å–ª—ç—à–∞ –≤ –∫–æ–Ω—Ü–µ. –ï—Å–ª–∏ –Ω–µ—Ç ‚Äî –¥–æ–±–∞–≤—å.

---

## –®–∞–≥ 4. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –≤ FreeKassa

–í –ª–∏—á–Ω–æ–º –∫–∞–±–∏–Ω–µ—Ç–µ FreeKassa ‚Üí –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –º–∞–≥–∞–∑–∏–Ω–∞:

- **URL –æ–ø–æ–≤–µ—â–µ–Ω–∏—è:** `https://78-production.up.railway.app/payment/freekassa`
- **–ú–µ—Ç–æ–¥:** POST

---

## –®–∞–≥ 5. –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂

1. –û—Ç–∫—Ä–æ–π **–∫–ª–∏–µ–Ω—Ç—Å–∫–æ–≥–æ –±–æ—Ç–∞** @NeuralVoiceLabBot
2. –ù–∞–∂–º–∏ **üõí –ö—É–ø–∏—Ç—å –ø–æ–¥–ø–∏—Å–∫—É**
3. –í—ã–±–µ—Ä–∏ —Ç–∞—Ä–∏—Ñ (–Ω–∞–ø—Ä–∏–º–µ—Ä, 30 –¥–Ω–µ–π)
4. –ù–∞–∂–º–∏ **üí≥ –ö–∞—Ä—Ç–∞ 30–¥** ‚Äî –æ—Ç–∫—Ä–æ–µ—Ç—Å—è FreeKassa
5. –û–ø–ª–∞—Ç–∏ —Ç–µ—Å—Ç–æ–≤—É—é —Å—É–º–º—É (–∏–ª–∏ –∏—Å–ø–æ–ª—å–∑—É–π —Ç–µ—Å—Ç–æ–≤—ã–π —Ä–µ–∂–∏–º FreeKassa, –µ—Å–ª–∏ –≤–∫–ª—é—á—ë–Ω)
6. –ü–æ—Å–ª–µ –æ–ø–ª–∞—Ç—ã –∫–æ–¥ –¥–æ–ª–∂–µ–Ω –ø—Ä–∏–π—Ç–∏ –≤ –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏
7. –í –∞–¥–º–∏–Ω-–±–æ—Ç–µ –¥–æ–ª–∂–Ω–æ –ø—Ä–∏–π—Ç–∏ —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ –æ –ø–ª–∞—Ç–µ–∂–µ

---

## –ß–µ–∫–ª–∏—Å—Ç

- [ ] FK_MERCHANT_ID, FK_SECRET_1, FK_SECRET_2 –¥–æ–±–∞–≤–ª–µ–Ω—ã –≤ Railway
- [ ] WEBHOOK_BASE_URL=https://78-production.up.railway.app
- [ ] Redeploy –≤—ã–ø–æ–ª–Ω–µ–Ω
- [ ] –í FreeKassa URL –æ–ø–æ–≤–µ—â–µ–Ω–∏—è = .../payment/freekassa, –º–µ—Ç–æ–¥ POST
- [ ] –¢–µ—Å—Ç–æ–≤—ã–π –ø–ª–∞—Ç—ë–∂ –ø—Ä–æ—à—ë–ª, –∫–æ–¥ –ø—Ä–∏—à—ë–ª –≤ –±–æ—Ç

---

## –ï—Å–ª–∏ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç

1. **–ö–æ–¥ –Ω–µ –ø—Ä–∏—Ö–æ–¥–∏—Ç** ‚Äî –ø—Ä–æ–≤–µ—Ä—å –ª–æ–≥–∏ Railway (Deployments ‚Üí View Logs). –ò—â–∏ —Å—Ç—Ä–æ–∫–∏ `FreeKassa: payment ok` –∏–ª–∏ `FreeKassa webhook: bad sign`
2. **Bad sign** ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ Secret 2 —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é (–≤–∫–ª—é—á–∞—è `=` –≤ –Ω–∞—á–∞–ª–µ)
3. **404 / –æ—à–∏–±–∫–∞** ‚Äî –ø—Ä–æ–≤–µ—Ä—å, —á—Ç–æ URL –∏–º–µ–Ω–Ω–æ `/payment/freekassa`, –Ω–µ `/payment`
